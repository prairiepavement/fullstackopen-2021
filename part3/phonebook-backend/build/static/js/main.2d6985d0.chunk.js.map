{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Button.js","components/Persons.js","components/Notification.js","components/Error.js","services/phones.js","App.js","index.js"],"names":["Filter","filter","onChangeHandler","value","onChange","PersonForm","onSubmitHandler","name","onChangeNameHandler","number","onChangeNumberHandler","onSubmit","type","Button","text","onClick","Person","person","onClickHandler","id","Persons","persons","map","Notification","message","className","Error","baseUrl","phoneService","getAll","axios","get","then","response","data","create","newObject","post","del","delete","update","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","initialList","personList","toLocaleLowerCase","includes","event","target","preventDefault","personInPhonebook","find","window","confirm","replacePerson","returnedPerson","setTimeout","catch","error","numberObject","returnedPhone","concat","req","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2d6985d0.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, onChangeHandler }) =>\n    <div>\n        Filter shown with: <input value={filter} onChange={onChangeHandler} />\n    </div>\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({\n    onSubmitHandler,\n    name,\n    onChangeNameHandler,\n    number,\n    onChangeNumberHandler\n}) => {\n    return (\n        <form onSubmit={onSubmitHandler}>\n            <div>\n                Name: <input value={name} onChange={onChangeNameHandler} />\n            </div>\n            <div>\n                Number: <input value={number} onChange={onChangeNumberHandler} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>)\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Button = ({ text, value, name, onClick }) => <button value={value} name={name} onClick={onClick}>\n    {text}\n</button>\n\nexport default Button","import React from 'react'\nimport Button from './Button'\n\nconst Person = ({ person, onClickHandler }) => <p>\n    {person.name}: {person.number} <Button text=\"Delete\" value={person.id} name={person.name} onClick={onClickHandler} /></p>\n\nconst Persons = ({ persons, onClickHandler }) =>\n    persons.map((person) => <Person key={person.name} person={person} onClickHandler={onClickHandler}/>)\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"notification\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst Error = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default Error","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n  \nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst del = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst phoneService = { getAll, create, del, update }\n\nexport default phoneService","import React, { useState, useEffect } from 'react'\n\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\n\nimport phoneService from './services/phones'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])    \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    phoneService\n      .getAll()\n      .then(initialList => {\n        setPersons(initialList)\n      })\n}, [])\n\n  const personList = (filter === '')\n    ? persons\n    : persons.filter(\n      person => person.name.toLocaleLowerCase().includes(filter.toLocaleLowerCase())\n    )\n\n  const addNumber = (event) => {\n    event.preventDefault()\n    \n    const personInPhonebook = persons.find((person) => person.name === newName)\n      if (personInPhonebook) {\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n          const replacePerson = { ...personInPhonebook, number: newNumber }\n          phoneService\n            .update(personInPhonebook.id, replacePerson)\n            .then(returnedPerson => {\n\n              setNotificationMessage(`'${returnedPerson.name}' updated successfully`)\n              setTimeout(() => {setNotificationMessage(null)}, 5000)\n\n              setPersons(persons.map(person => person.name !== personInPhonebook.name ? person : replacePerson))\n              setNewName('')\n              setNewNumber('')\n            })\n            .catch(error => {\n              setErrorMessage(`${error.response.data.error}`)\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 5000)\n            })\n        }\n      }\n    \n    else {\n      const numberObject = { name: newName, number: newNumber }\n        phoneService\n          .create(numberObject)\n          .then(returnedPhone  => {\n\n            setNotificationMessage(`Added '${returnedPhone.name}'`)\n            setTimeout(() => {setNotificationMessage(null)}, 5000)\n\n            setPersons(persons.concat(returnedPhone))\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            setErrorMessage(`${error.response.data.error}`)\n            setTimeout(() => {\n              setErrorMessage(null)\n          }, 5000)\n      })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleOnClickDelete = (event) => {\n    const name = event.target.name\n\n    if (window.confirm(`Delete '${name}'?`)) {\n      const id = event.target.value\n        phoneService\n          .del(id)\n          .then((req) => {\n            setNotificationMessage(`'${name}' deleted successfully`)\n            setTimeout(() => {setNotificationMessage(null)}, 5000)\n            setPersons(persons.filter(p => p.name !== name))\n          })\n          .catch(error => {\n            setErrorMessage(`The number of '${name}' has already been removed from server`)\n            setTimeout(() => {setErrorMessage(null)}, 5000)\n            setPersons(persons.filter(p => p.name !== name))\n          })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} />\n      <Error message={errorMessage} />\n      <Filter filter={filter} onChangeHandler={handleFilterChange} />\n      <h2>Add a new</h2>\n      <PersonForm\n        onSubmitHandler={addNumber}\n        name={newName}\n        onChangeNameHandler={handleNameChange}\n        number={newNumber}\n        onChangeNumberHandler={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={personList} onClickHandler={handleOnClickDelete}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}